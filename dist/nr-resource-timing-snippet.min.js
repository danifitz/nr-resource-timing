const logToConsole=1,measureAssetBudgets=1;function getPaintTimings(){if("performance"in window&&"getEntriesByType"in window.performance&&window.performance.getEntriesByType("paint")instanceof Array&&"undefined"!=typeof newrelic){window.performance.getEntriesByType("paint").forEach((e,o,t)=>{to_seconds=0,to_seconds=e.startTime/1e3,newrelic.setCustomAttribute(e.name,to_seconds),consoleLogger(logToConsole,e.name+" - seconds: "+to_seconds+", milliseconds: "+e.startTime)})}else consoleLogger(logToConsole,"performance NOT supported by Browser")}function getResourceTimings(){if("undefined"!=typeof newrelic&&"object"==typeof newrelic)if(consoleLogger(logToConsole,"loaded"),"performance"in window&&"getEntriesByType"in window.performance&&window.performance.getEntriesByType("resource")instanceof Array){window.performance.getEntriesByType("resource").forEach(function(e,o){var t;"script"==e.initiatorType&&(consoleLogger(logToConsole,"sending NR JS Resource Timing "+o),(t={}).resourceName=e.name,t.resourceDuration=e.duration/1e3,t.transferSize=e.transferSize/1e3,t.responseEnd=e.responseEnd/1e3,newrelic.addPageAction("jsResourceTiming",t));"img"==e.initiatorType&&(consoleLogger(logToConsole,"sending NR Image Resource Timing "+o),(t={}).resourceName=e.name,t.resourceDuration=e.duration/1e3,t.transferSize=e.transferSize/1e3,t.responseEnd=e.responseEnd/1e3,newrelic.addPageAction("imageResourceTiming",t));"css"==e.initiatorType&&(consoleLogger(logToConsole,"sending NR CSS Resource Timing "+o),(t={}).resourceName=e.name,t.resourceDuration=e.duration/1e3,t.transferSize=e.transferSize/1e3,t.responseEnd=e.responseEnd/1e3,newrelic.addPageAction("cssResourceTiming",t))})}else consoleLogger(logToConsole,"performance NOT supported by Browser");else consoleLogger(logToConsole,"-> NR custom Image Resource Timing script - newrelic object not found, make sure the new relic agent is present on this page")}function getAssetBudgets(){if("performance"in window&&"getEntriesByType"in window.performance&&window.performance.getEntriesByType("resource")instanceof Array&&"undefined"!=typeof newrelic){var e=0,o=0,t=0,n=0,r=0,s=0,i=0,c=0,a=0,g=0,l=0,u=window.performance.getEntriesByType("resource");for(var d in u){u[d].name;var T=u[d].transferSize/1e3;u[d].duration,u[d].responseEnd;e++,o+=T,0==T&&l++,"img"==u[d].initiatorType?(t++,n+=T):"script"==u[d].initiatorType?(r++,s+=T):"css"==u[d].initiatorType?(i++,c+=T):(a++,g+=T)}"object"==typeof newrelic&&(newrelic.setCustomAttribute("budgetTotalAssets",e),newrelic.setCustomAttribute("budgetTotalAssetsSize",o),newrelic.setCustomAttribute("budgetTotalImages",t),newrelic.setCustomAttribute("budgetTotalImagesSize",n),newrelic.setCustomAttribute("budgetTotalScripts",r),newrelic.setCustomAttribute("budgetTotalScriptsSize",s),newrelic.setCustomAttribute("budgetTotalCSS",i),newrelic.setCustomAttribute("budgetTotalCSSSize",c),newrelic.setCustomAttribute("budgetTotalOther",a),newrelic.setCustomAttribute("budgetTotalOtherSize",g),newrelic.setCustomAttribute("budgetCachedAssets",l)),consoleLogger(logToConsole,"Total Assets: "+e+" | Total Assets Size: "+o+"kB"),consoleLogger(logToConsole,"Total Images: "+t+" | Total Images Size: "+n+"kB"),consoleLogger(logToConsole,"Total Scripts: "+r+" | Total Scripts Size: "+s+"kB"),consoleLogger(logToConsole,"Total Css: "+i+" | Total CSS Size: "+c+"kB"),consoleLogger(logToConsole,"Total Other: "+a+" | Total Other Size: "+g+"kB"),consoleLogger(logToConsole,"Cached Resources : "+l)}else consoleLogger(logToConsole,"performance NOT supported by Browser")}function consoleLogger(e,o){1==e&&console.log("-> NR First Paint & Resource Timing script: "+o+" ->")}window.addEventListener("load",function(){var e=performance.now();getPaintTimings(),getResourceTimings(),getAssetBudgets();var o=performance.now();consoleLogger("Overhead of this script: "+(o-e)/1e3+"seconds - it began at : "+e+" and ended at : "+o)});